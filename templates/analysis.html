{% extends "layout.html" %}

{% block title %}Analysis{% endblock %}

{% block content %}
<div class="container mx-auto px-4 sm:px-6 lg:px-8 py-16">
    <header class="text-center mb-16">
        <h1 class="text-4xl md:text-5xl font-bold">Data Analysis</h1>
        <p class="mt-4 max-w-2xl mx-auto text-lg text-zinc-600">Visualizing the core trends of the UPI revolution.</p>
    </header>

    <div class="space-y-16">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
            <div class="prose prose-lg max-w-none">
                <h2>The Exponential Rise</h2>
                <p>The story of UPI is one of unprecedented growth. The data reveals a dramatic inflection point around 2020, where adoption exploded, making it the dominant force in Indian digital payments. This chart visualizes that meteoric rise.</p>
            </div>
            <div class="bg-white p-4 rounded-lg shadow-lg">
                <div id="growthChart"></div>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
             <div class="prose prose-lg max-w-none lg:order-2">
                <h2>The Behavioral Shift</h2>
                <p>A deeper insight comes from analyzing *how* people used UPI. The steadily declining Average Transaction Size (ATS) is the key indicator that UPI successfully transitioned from a tool for occasional transfers to an instrument for everyday micro-payments.</p>
            </div>
            <div class="bg-white p-4 rounded-lg shadow-lg lg:order-1">
                <div id="atsChart"></div>
            </div>
        </div>
    </div>

    <!-- Next Page Button -->
    <div class="text-center mt-16">
        <a href="/advanced-analysis" class="inline-block bg-zinc-900 text-white font-semibold py-3 px-8 rounded-lg shadow-lg hover:bg-zinc-700 transition-colors duration-300">
            Next: Advanced Analysis &rarr;
        </a>
    </div>
</div>

<script>
    const growthChartData = {{ growth_chart | safe }};
    const atsChartData = {{ ats_chart | safe }};
    const layoutOptions = {
        font: { family: 'Inter, sans-serif', color: '#18181b' },
        paper_bgcolor: 'rgba(255,255,255,1)',
        plot_bgcolor: 'rgba(255,255,255,1)',
        xaxis: { gridcolor: '#e4e4e7' },
        yaxis: { gridcolor: '#e4e4e7' }
    };
    Plotly.newPlot('growthChart', growthChartData.data, {...growthChartData.layout, ...layoutOptions}, {responsive: true});
    Plotly.newPlot('atsChart', atsChartData.data, {...atsChartData.layout, ...layoutOptions}, {responsive: true});
</script>
{% endblock %}
